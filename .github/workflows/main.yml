name: auto deploy
on:
  push:
    branches:
      - master
jobs:
  deploy:
    runs-on:  ubuntu-latest

    steps:
      - name: SSH 命令删除旧文件
        uses: appleboy/ssh-action@master
        with:
          # 这里配置对应仓库设置的变量，就可以避免服务器配置暴露
          host: ${{ secrets.SSH_HOST }}
          username: ${{ secrets.SSH_USERNAME }}
          key: ${{ secrets.DEPLOY_KEY }}

          # 先用 SSH 命令删除旧文件
          script: |
            cd /home/lighthouse
            git pull
        
